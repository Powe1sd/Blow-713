<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../styleingles.css" />
    <title>Document</title>
  </head>
  <body>
    <style>
      /* hacer que el texto se ponga e azul para la reproducción */
      .playing {
        color: blue;
      }
    </style>

    <button id="playButton" class="fixed-button play">
      <i class="fas fa-play"></i> Reproducir Todos
    </button>

    <div class="section">
      <h2 id="frases">Frases de Presentación:</h2>
      <ul>
        <li class="pronoun">
          Allow me to introduce myself. (<span style="color: red"
            >Permítame presentarme.</span
          >)
          <div class="divider"></div>
          <audio controls class="audio">
            <source
              src="audios-ingles/permiteme-presentarme.mp3"
              type="audio/mp3"
            />
            Tu navegador no soporta el elemento de audio.
          </audio>
        </li>

        <li class="pronoun">
          Hi, my name is [tu nombre]. (<span style="color: red"
            >Hola, mi nombre es [tu nombre].</span
          >)
          <div class="divider"></div>
          <audio controls class="audio">
            <source src="audios-ingles/mi-name-is.mp3" type="audio/mp3" />
            Tu navegador no soporta el elemento de audio.
          </audio>
        </li>

        <li class="pronoun">
          It's a pleasure to meet you.
          <span style="color: red">(Es un placer conocerte.)</span>
          <div class="divider"></div>
          <audio controls class="audio">
            <source
              src="audios-ingles/es-un-placer conocerte.mp3"
              type="audio/mp3"
            />
            Tu navegador no soporta el elemento de audio.
          </audio>
        </li>

        <li class="pronoun">
          Good morning! <span style="color: red">(¡Buenos días!)</span>
          <div class="divider"></div>
          <audio controls class="audio">
            <source src="audios-ingles/good-morning.mp3" type="audio/mp3" />
            Tu navegador no soporta el elemento de audio.
          </audio>
        </li>

        <li class="pronoun">
          Good afternoon! <span style="color: red">(¡Buenas tardes!)</span>
          <div class="divider"></div>
          <audio controls class="audio">
            <source src="audios-ingles/good-afternog.mp3" type="audio/mp3" />
            Tu navegador no soporta el elemento de audio.
          </audio>
        </li>

        <li class="pronoun">
          Good evening! <span style="color: red">(¡Buenas noches!)</span>
          <div class="divider"></div>
          <audio controls class="audio">
            <source src="audios-ingles/good-evering.mp3" type="audio/mp3" />
            Tu navegador no soporta el elemento de audio.
          </audio>
        </li>
      </ul>
    </div>

    <div class="section">
      <h2 id="frases">Frases de Presentación:</h2>
      <ul>
        <li class="pronoun">
          Allow me to introduce myself.
          <span style="color: red">(Permítame presentarme.)</span>
          <div class="divider"></div>
          <audio controls class="audio">
            <source
              src="audios-ingles/permiteme-presentarme.mp3"
              type="audio/mp3"
            />
            Tu navegador no soporta el elemento de audio.
          </audio>
        </li>

        <li class="pronoun">
          Let me introduce you to my friend.
          <span style="color: red">(Permíteme presentarte a mi amigo/a.)</span>
          <div class="divider"></div>
          <audio controls class="audio">
            <source
              src="audios-ingles/permiteme-presentarme.mp3"
              type="audio/mp3"
            />
            Tu navegador no soporta el elemento de audio.
          </audio>
        </li>

        <li class="pronoun">
          May I present Mr./Ms. [apellido]?
          <span style="color: red"
            >(¿Puedo presentar al Sr./Sra. [apellido]?)</span
          >
          <div class="divider"></div>
          <audio controls class="audio">
            <source
              src="audios-ingles/puedo-presentarme.mp3"
              type="audio/mp3"
            />
            Tu navegador no soporta el elemento de audio.
          </audio>
        </li>

        <li class="pronoun">
          This is [tu nombre].
          <span style="color: red">(Este es [tu nombre].)</span>
          <div class="divider"></div>
          <audio controls class="audio">
            <source src="audios-ingles/este es.mp3" type="audio/mp3" />
            Tu navegador no soporta el elemento de audio.
          </audio>
        </li>

        <li class="pronoun">
          I'd like you to meet [nombre de otra persona].
          <span style="color: red"
            >(Me gustaría que conocieras a [nombre de otra persona].)</span
          >
          <div class="divider"></div>
          <audio controls class="audio">
            <source
              src="audios-ingles/me-gustaria-conocieras.mp3"
              type="audio/mp3"
            />
            Tu navegador no soporta el elemento de audio.
          </audio>
        </li>

        <li class="pronoun">
          Have you met [nombre]?
          <span style="color: red">(¿Has conocido a [nombre]?)</span>
          <div class="divider"></div>
          <audio controls class="audio">
            <source src="audios-ingles/has-conocido.mp3" type="audio/mp3" />
            Tu navegador no soporta el elemento de audio.
          </audio>
        </li>

        <li class="pronoun">
          Nice to see you again.
          <span style="color: red">(Gusto en verte de nuevo.)</span>
          <div class="divider"></div>
          <audio controls class="audio">
            <source src="audios-ingles/gusto-en-verte.mp3" type="audio/mp3" />
            Tu navegador no soporta el elemento de audio.
          </audio>
        </li>

        <li class="pronoun">
          How do you do?
          <span style="color: red">(¿Cómo estás?) [formal]</span>
          <div class="divider"></div>
          <audio controls class="audio">
            <source src="audios-ingles/como-estas.mp3" type="audio/mp3" />
            Tu navegador no soporta el elemento de audio.
          </audio>
        </li>

        <li class="pronoun">
          What brings you here?
          <span style="color: red">(¿Qué te trae por aquí?)</span>
          <div class="divider"></div>
          <audio controls class="audio">
            <source src="audios-ingles/que-te-trae-aqui.mp3" type="audio/mp3" />
            Tu navegador no soporta el elemento de audio.
          </audio>
        </li>

        <li class="pronoun">
          It's been a while.
          <span style="color: red">(Ha pasado un tiempo.)</span>
          <div class="divider"></div>
          <audio controls class="audio">
            <source
              src="audios-ingles/a-pasado-mucho-tiempo.mp3"
              type="audio/mp3"
            />
            Tu navegador no soporta el elemento de audio.
          </audio>
        </li>

        <li class="pronoun">
          I hope you're doing well.
          <span style="color: red">(Espero que estés bien.)</span>
          <div class="divider"></div>
          <audio controls class="audio">
            <source
              src="audios-ingles/esperos-que-estes-bien.mp3"
              type="audio/mp3"
            />
            Tu navegador no soporta el elemento de audio.
          </audio>
        </li>

        <li class="pronoun">
          Thanks for coming.
          <span style="color: red">(Gracias por venir.)</span>
          <div class="divider"></div>
          <audio controls class="audio">
            <source
              src="audios-ingles/gracias-por-venir.mp3"
              type="audio/mp3"
            />
            Tu navegador no soporta el elemento de audio.
          </audio>
        </li>
      </ul>
    </div>

    <!-- audio acceso -->
    <audio id="audio-error" src="Acceso/error.mp3"></audio>

    <script>
      var audios = document.querySelectorAll("audio");
      var playButton = document.getElementById("playButton");
      var currentIndex = 0;
      var reproduciendo = false;
      var tiemposDeReproduccion = []; // Array para almacenar los tiempos de reproducción

      function reproducirAudios() {
        reproduciendo = true;
        playButton.innerHTML = '<i class="fas fa-pause"></i> Pausar Todos';
        reproducirSiguiente();
      }

      function reproducirSiguiente() {
        if (currentIndex < audios.length) {
          var audio = audios[currentIndex];
          audio.currentTime = tiemposDeReproduccion[currentIndex] || 0; // Restaurar el tiempo de reproducción
          audio.play();
          audio.addEventListener("ended", reproducirSiguiente);
          // Resaltar solo el texto correspondiente al audio actual
          resaltarTexto(audio.parentNode);
          // Desplazar el elemento al área visible
          audio.parentNode.scrollIntoView({
            behavior: "smooth",
            block: "center",
          });
          currentIndex++;
        } else {
          currentIndex = 0;
          reproducirSiguiente();
        }
      }

      function detenerAudios() {
        reproduciendo = false;
        audios.forEach((audio, index) => {
          audio.pause();
          tiemposDeReproduccion[index] = audio.currentTime; // Guardar el tiempo de reproducción
          audio.currentTime = 0;
          // Eliminar el color azul del texto
          audio.parentNode.classList.remove("playing");
        });
        playButton.innerHTML = '<i class="fas fa-play"></i> Reproducir Todos';
      }

      function resaltarTexto(elemento) {
        // Eliminar la clase "playing" de todos los elementos de audio
        audios.forEach((audio) => {
          audio.parentNode.classList.remove("playing");
        });
        // Resaltar solo el elemento actual
        elemento.classList.add("playing");
      }

      playButton.addEventListener("click", function () {
        if (!reproduciendo) {
          reproducirAudios();
        } else {
          detenerAudios();
        }
      });
    </script>
  </body>
</html>
